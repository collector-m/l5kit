<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

      <title>l5kit.data package</title>
    
          <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="../_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="../_static/theme-vendors.js"></script> -->
      <script src="../_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="l5kit.data.proto package" href="l5kit.data.proto.html" />
  <link rel="prev" title="l5kit.cle.validators module" href="l5kit.cle.validators.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../index.html" class="home-link">
    
      <img class="logo" src="../_static/L5logo_small_v2.png" alt="logo"/>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="../index.html#"
         class="nav-link ">
         None
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../intro_index.html#introduction-and-overview"
         class="nav-link ">
         introduction and overview
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../gettingstarted.html#getting-started"
         class="nav-link ">
         getting started
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../tutorials.html#tutorials"
         class="nav-link ">
         tutorials
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../competitions.html#competitions"
         class="nav-link ">
         competitions
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../contribute_index.html#contribute"
         class="nav-link ">
         contribute
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://github.com/lyft/l5kit"
        class="nav-link external">
          Github <outboundlink></outboundlink>
      </a>
    </div>
  

    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="../index.html#"
         class="nav-link ">
         None
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../intro_index.html#introduction-and-overview"
         class="nav-link ">
         introduction and overview
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../gettingstarted.html#getting-started"
         class="nav-link ">
         getting started
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../tutorials.html#tutorials"
         class="nav-link ">
         tutorials
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../competitions.html#competitions"
         class="nav-link ">
         competitions
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../contribute_index.html#contribute"
         class="nav-link ">
         contribute
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://github.com/lyft/l5kit"
        class="nav-link external">
          Github <outboundlink></outboundlink>
      </a>
    </div>
  

            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#">None</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../changelog.html" class="reference internal ">Changelog</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../intro_index.html#introduction-and-overview">introduction and overview</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../introduction.html" class="reference internal ">Introduction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../overview.html" class="reference internal ">Overview</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../gettingstarted.html#getting-started">getting started</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../installation.html" class="reference internal ">Installation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../data_format.html" class="reference internal ">Dataset Formats in L5Kit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../coords_systems.html" class="reference internal ">Coordinate Systems in L5Kit</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../tutorials.html#tutorials">tutorials</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../prediction.html" class="reference internal ">Prediction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../planning.html" class="reference internal ">Planning</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../simulation.html" class="reference internal ">Simulation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../reinforcement.html" class="reference internal ">Reinforcement Learning</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../competitions.html#competitions">competitions</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../prediction_competition.html" class="reference internal ">Prediction Competition</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../contribute_index.html#contribute">contribute</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../how_to_contribute.html" class="reference internal ">How to contribute</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../api_reference.html" class="reference internal ">API Reference</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../license.html" class="reference internal ">License</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../credits.html" class="reference internal ">Credits</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      <li><a href="../contribute_index.html">Contribute</a> &raquo;</li>
    
      <li><a href="../api_reference.html">API Reference</a> &raquo;</li>
    
    <li>l5kit.data package</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="l5kit.cle.validators.html"
       title="previous chapter">← l5kit.cle.validators module</a>
  </li>
  <li class="next">
    <a href="l5kit.data.proto.html"
       title="next chapter">l5kit.data.proto package →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="module-l5kit.data">
<span id="l5kit-data-package"></span><h1>l5kit.data package<a class="headerlink" href="#module-l5kit.data" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="l5kit.data.ChunkedDataset">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">ChunkedDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#l5kit.data.ChunkedDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ChunkedDataset is a dataset that lives on disk in compressed chunks, it has easy to use data loading and
writing interfaces that involves making numpy-like slices.
Currently only .zarr directory stores are supported (i.e. the data will live in a folder on your
local filesystem called &lt;something&gt;.zarr).</p>
<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.ChunkedDataset.get_scene_dataset">
<span class="sig-name descname"><span class="pre">get_scene_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="l5kit.data.zarr_dataset.html#l5kit.data.zarr_dataset.ChunkedDataset" title="l5kit.data.zarr_dataset.ChunkedDataset"><span class="pre">l5kit.data.zarr_dataset.ChunkedDataset</span></a></span></span><a class="headerlink" href="#l5kit.data.ChunkedDataset.get_scene_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a new ChunkedDataset of a single scene.
This dataset lives in memory (as np.ndarray)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>scene_index</strong> – the scene index</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataset with a single scene inside</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.ChunkedDataset.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_scenes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_frames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_agents</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_tl_faces</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="l5kit.data.zarr_dataset.html#l5kit.data.zarr_dataset.ChunkedDataset" title="l5kit.data.zarr_dataset.ChunkedDataset"><span class="pre">l5kit.data.zarr_dataset.ChunkedDataset</span></a></span></span><a class="headerlink" href="#l5kit.data.ChunkedDataset.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a new zarr dataset, creating the underlying arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – Mode to open dataset in, should be something that supports writing. (default: {“w”})</p></li>
<li><p><strong>num_scenes</strong> – pre-allocate this number of scenes</p></li>
<li><p><strong>num_frames</strong> – pre-allocate this number of frames</p></li>
<li><p><strong>num_agents</strong> – pre-allocate this number of agents</p></li>
<li><p><strong>num_tl_faces</strong> – pre-allocate this number of traffic lights</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.ChunkedDataset.open">
<span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cached</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_size_bytes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1000000000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="l5kit.data.zarr_dataset.html#l5kit.data.zarr_dataset.ChunkedDataset" title="l5kit.data.zarr_dataset.ChunkedDataset"><span class="pre">l5kit.data.zarr_dataset.ChunkedDataset</span></a></span></span><a class="headerlink" href="#l5kit.data.ChunkedDataset.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a zarr dataset from disk from the path supplied in the constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – Mode to open dataset in, default to read-only (default: {“r”})</p></li>
<li><p><strong>cached</strong> – Whether to cache files read from disk using a LRU cache. (default: {True})</p></li>
<li><p><strong>cache_size_bytes</strong> – Size of cache in bytes (default: {1e9} (1GB))</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="l5kit.data.DataManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">DataManager</span></span><a class="headerlink" href="#l5kit.data.DataManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.DataManager.require">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">require</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#l5kit.data.DataManager.require" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="l5kit.data.LocalDataManager">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">LocalDataManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_data_folder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#l5kit.data.LocalDataManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="l5kit.data.local_data_manager.html#l5kit.data.local_data_manager.DataManager" title="l5kit.data.local_data_manager.DataManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">l5kit.data.local_data_manager.DataManager</span></code></a></p>
<p>LocalDataManager allows you to require data to be present in the subpath of a specific folder.</p>
<p>Example:
Your data folder is set to <code class="docutils literal notranslate"><span class="pre">&quot;/tmp/my-data-folder&quot;</span></code>, and you
call <code class="docutils literal notranslate"><span class="pre">local_data_manager.require(&quot;path/to/image.jpg&quot;)</span></code>, it would check if
<code class="docutils literal notranslate"><span class="pre">&quot;/tmp/my-data-folder/path/to/image.jpg&quot;</span></code> exists, and if so return that complete path
(<code class="docutils literal notranslate"><span class="pre">&quot;/tmp/my-data-folder/path/to/image.jpg&quot;</span></code>), otherwise it raises an error.</p>
<dl class="simple">
<dt>In order of precedence, the local data folder is set by</dt><dd><ol class="arabic simple">
<li><p>Passing in the path to the constructor of <code class="docutils literal notranslate"><span class="pre">LocalDataManager</span></code></p></li>
<li><p>Setting the <code class="docutils literal notranslate"><span class="pre">L5KIT_DATA_FOLDER</span></code> environment variable.</p></li>
</ol>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.LocalDataManager.require">
<span class="sig-name descname"><span class="pre">require</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#l5kit.data.LocalDataManager.require" title="Permalink to this definition">¶</a></dt>
<dd><p>Require checks whether the file with the given key is present in the local data folder, if it is not it
raises an error. Returns the path to the file otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – Path from the data folder where the file or folder should be present.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str – Filepath including the data folder where required key is present.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="l5kit.data.MapAPI">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">MapAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protobuf_map_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">world_to_ecef</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#l5kit.data.MapAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.from_cfg">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">from_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_manager</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="l5kit.data.local_data_manager.html#l5kit.data.local_data_manager.DataManager" title="l5kit.data.local_data_manager.DataManager"><span class="pre">l5kit.data.local_data_manager.DataManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="l5kit.data.map_api.html#l5kit.data.map_api.MapAPI" title="l5kit.data.map_api.MapAPI"><span class="pre">l5kit.data.map_api.MapAPI</span></a></span></span><a class="headerlink" href="#l5kit.data.MapAPI.from_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a MapAPI object starting from a config file and a data manager</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_manager</strong> – a data manager object ot resolve paths</p></li>
<li><p><strong>cfg</strong> – the config dict</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a MapAPI object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.get_bounds">
<span class="sig-name descname"><span class="pre">get_bounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.get_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>For each elements of interest returns bounds [[min_x, min_y],[max_x, max_y]] and proto ids
Coords are computed by the MapAPI and, as such, are in the world ref system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>keys are classes of elements, values are dict with <cite>bounds</cite> and <cite>ids</cite> keys</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.get_color_for_face">
<span class="sig-name descname"><span class="pre">get_color_for_face</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">face_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.get_color_for_face" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function. It calls <cite>is_traffic_face_color</cite> for a set of colors until it gets an answer.
If no color is found, then <cite>face_id</cite> is not the id of a traffic light face (and we raise ValueError).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>face_id</strong> (<em>str</em>) – the element id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the color as string for this traffic face</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.get_crosswalk_coords">
<span class="sig-name descname"><span class="pre">get_crosswalk_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.get_crosswalk_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Get XYZ coordinates in world ref system for a crosswalk given its id
lru_cached for O(1) access</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element_id</strong> (<em>str</em>) – crosswalk element id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dict with the polygon coordinates as an (Nx3) XYZ array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.get_lane_as_interpolation">
<span class="sig-name descname"><span class="pre">get_lane_as_interpolation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="l5kit.data.map_api.html#l5kit.data.map_api.InterpolationMethod" title="l5kit.data.map_api.InterpolationMethod"><span class="pre">l5kit.data.map_api.InterpolationMethod</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.get_lane_as_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an interpolation of the left and right lanes and compute the midlane.
See interpolate for details about the different interpolation methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element_id</strong> (<em>str</em>) – lane id</p></li>
<li><p><strong>step</strong> (<em>float</em>) – step param for the method</p></li>
<li><p><strong>method</strong> (<a class="reference internal" href="l5kit.data.map_api.html#l5kit.data.map_api.InterpolationMethod" title="l5kit.data.map_api.InterpolationMethod"><em>InterpolationMethod</em></a>) – one of the accepted methods</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>same as <cite>get_lane_coords</cite> but overwrite xyz values for the lanes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.get_lane_coords">
<span class="sig-name descname"><span class="pre">get_lane_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.get_lane_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Get XYZ coordinates in world ref system for a lane given its id
lru_cached for O(1) access</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element_id</strong> (<em>str</em>) – lane element id</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dict with the two boundaries coordinates as (Nx3) XYZ arrays</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.get_lane_traffic_control_ids">
<span class="sig-name descname"><span class="pre">get_lane_traffic_control_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.get_lane_traffic_control_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.id_as_str">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">id_as_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">road_network_pb2.GlobalId</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.id_as_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the element id as a string.
Elements ids are stored as a variable len sequence of bytes in the protobuf</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element_id</strong> (<em>GlobalId</em>) – the GlobalId in the protobuf</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the id as a str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.interpolate">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">interpolate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="l5kit.data.map_api.html#l5kit.data.map_api.InterpolationMethod" title="l5kit.data.map_api.InterpolationMethod"><span class="pre">l5kit.data.map_api.InterpolationMethod</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate points based on cumulative distances from the first one. Two modes are available:
INTER_METER: interpolate using step as a meter value over cumulative distances (variable len result)
INTER_ENSURE_LEN: interpolate using a variable step such that we always get step values
:param xyz: XYZ coords
:type xyz: np.ndarray
:param step: param for the interpolation
:type step: float
:param method: method to use to interpolate
:type method: InterpolationMethod</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the new interpolated coordinates</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.is_crosswalk">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">is_crosswalk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">road_network_pb2.MapElement</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.is_crosswalk" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether an element is a valid crosswalk</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element</strong> (<em>MapElement</em>) – a proto element</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the element is a valid crosswalk</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.is_lane">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">is_lane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">road_network_pb2.MapElement</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.is_lane" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether an element is a valid lane</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element</strong> (<em>MapElement</em>) – a proto element</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the element is a valid lane</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.is_traffic_face">
<span class="sig-name descname"><span class="pre">is_traffic_face</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.is_traffic_face" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the element is a traffic light face (of any color)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element_id</strong> (<em>str</em>) – the id (utf-8 encode) of the element</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the element is a traffic light face, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.is_traffic_face_color">
<span class="sig-name descname"><span class="pre">is_traffic_face_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.is_traffic_face_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the element is a traffic light face of the given color</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element_id</strong> (<em>str</em>) – the id (utf-8 encode) of the element</p></li>
<li><p><strong>color</strong> (<em>str</em>) – the color to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the element is a traffic light face with the given color</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.is_traffic_light">
<span class="sig-name descname"><span class="pre">is_traffic_light</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.is_traffic_light" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the element is a traffic light
:param element_id: the id (utf-8 encode) of the element
:type element_id: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the element is a traffic light</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="l5kit.data.MapAPI.unpack_deltas_cm">
<span class="sig-name descname"><span class="pre">unpack_deltas_cm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dz</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">road_network_pb2.GeoFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#l5kit.data.MapAPI.unpack_deltas_cm" title="Permalink to this definition">¶</a></dt>
<dd><p>Get coords in world reference system (local ENU-&gt;ECEF-&gt;world).
See the protobuf annotations for additional information about how coordinates are stored</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dx</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em>) – X displacement in centimeters in local ENU</p></li>
<li><p><strong>dy</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em>) – Y displacement in centimeters in local ENU</p></li>
<li><p><strong>dz</strong> (<em>Sequence</em><em>[</em><em>int</em><em>]</em>) – Z displacement in centimeters in local ENU</p></li>
<li><p><strong>frame</strong> (<em>GeoFrame</em>) – geo-location information for the local ENU. It contains lat and long origin of the frame</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of shape (Nx3) with XYZ coordinates in world ref system</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.filter_agents_by_frames">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">filter_agents_by_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agents</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#l5kit.data.filter_agents_by_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of agents array, one array per frame. Note that “agent_index_interval” is used to filter agents,
so you should take care of re-setting it if you have previously sliced agents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames</strong> (<em>np.ndarray</em>) – an array of frames</p></li>
<li><p><strong>agents</strong> (<em>np.ndarray</em>) – an array of agents</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[np.ndarray] with the agents divided by frame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.filter_agents_by_labels">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">filter_agents_by_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agents</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#l5kit.data.filter_agents_by_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters an agents array, keeping those agents that meet the threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>agents</strong> (<em>np.ndarray</em>) – Agents array</p>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><p><strong>threshold</strong> (<em>float</em>) – probability threshold for filtering (default: {0.5})</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>np.ndarray – A subset of input <code class="docutils literal notranslate"><span class="pre">agents</span></code> array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.filter_agents_by_track_id">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">filter_agents_by_track_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agents</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#l5kit.data.filter_agents_by_track_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all agent object (np.ndarray) of a given track_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agents</strong> (<em>np.ndarray</em>) – agents array.
NOTE: do NOT pass a zarr to this function, it can’t handle boolean indexing</p></li>
<li><p><strong>track_id</strong> (<em>int</em>) – agent track id to select</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>np.ndarray – Selected agent.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.filter_tl_faces_by_frames">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">filter_tl_faces_by_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl_faces</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#l5kit.data.filter_tl_faces_by_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of traffic light faces arrays, one array per frame.
This functions mimics <cite>filter_agents_by_frames</cite> for traffic light faces</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames</strong> (<em>np.ndarray</em>) – an array of frames</p></li>
<li><p><strong>tl_faces</strong> (<em>np.ndarray</em>) – an array of traffic light faces</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[np.ndarray] with the traffic light faces divided by frame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.filter_tl_faces_by_status">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">filter_tl_faces_by_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tl_faces</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#l5kit.data.filter_tl_faces_by_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter tl_faces and keep only active faces
:param tl_faces: array of traffic faces
:type tl_faces: np.ndarray
:param status: status we want to keep TODO refactor for enum
:type status: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>traffic light faces array with only faces with that status</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.get_agents_slice_from_frames">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">get_agents_slice_from_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_a</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_b</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">slice</span></span></span><a class="headerlink" href="#l5kit.data.get_agents_slice_from_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a slice for indexing agents giving a start and end frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_a</strong> (<em>np.ndarray</em>) – the starting frame</p></li>
<li><p><strong>frame_b</strong> (<em>Optional</em><em>[</em><em>np.ndarray</em><em>]</em>) – the ending frame. If None, then frame_a end will be used</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a slice object starting from the first agent in frame_a to the last one in frame_b</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>slice</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.get_combined_scenes">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">get_combined_scenes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#l5kit.data.get_combined_scenes" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes as input an np.ndarray or zarr array with scenes, and combines scenes that follow up
eachother perfectly (i.e. from a single recording by the same host). Returns an np.ndarray
of combined scenes.</p>
<blockquote>
<div><dl class="simple">
<dt>Arguments:</dt><dd><p>scenes (np.ndarray): scenes</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray – combined scenes where followup scenes have been merged.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.get_frames_slice_from_scenes">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">get_frames_slice_from_scenes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene_a</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene_b</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">slice</span></span></span><a class="headerlink" href="#l5kit.data.get_frames_slice_from_scenes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a slice for indexing frames giving a start and end scene</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scene_a</strong> (<em>np.ndarray</em>) – the starting scene</p></li>
<li><p><strong>scene_b</strong> (<em>Optional</em><em>[</em><em>np.ndarray</em><em>]</em>) – the ending scene. If None, then scene_a end will be used</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a slice object starting from the first frame in scene_a to the last one in scene_b</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>slice</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.get_tl_faces_slice_from_frames">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">get_tl_faces_slice_from_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_a</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_b</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">slice</span></span></span><a class="headerlink" href="#l5kit.data.get_tl_faces_slice_from_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a slice for indexing traffic light faces giving a start and end frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_a</strong> (<em>np.ndarray</em>) – the starting frame</p></li>
<li><p><strong>frame_b</strong> (<em>Optional</em><em>[</em><em>np.ndarray</em><em>]</em>) – the ending frame. If None, then frame_a end will be used</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a slice object starting from the first tl_face in frame_a to the last one in frame_b</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>slice</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="l5kit.data.zarr_concat">
<span class="sig-prename descclassname"><span class="pre">l5kit.data.</span></span><span class="sig-name descname"><span class="pre">zarr_concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_zarrs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_zarr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#l5kit.data.zarr_concat" title="Permalink to this definition">¶</a></dt>
<dd><p>Concat many zarr into a single one. Takes care of updating indices for frames and agents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_zarrs</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – a list of paths to input zarrs</p></li>
<li><p><strong>output_zarr</strong> (<em>str</em>) – the path to the output zarr</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="l5kit.data.proto.html">l5kit.data.proto package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="l5kit.data.proto.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="l5kit.data.proto.road_network_pb2.html">l5kit.data.proto.road_network_pb2 module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="l5kit.data.combine.html">l5kit.data.combine module</a></li>
<li class="toctree-l1"><a class="reference internal" href="l5kit.data.filter.html">l5kit.data.filter module</a></li>
<li class="toctree-l1"><a class="reference internal" href="l5kit.data.labels.html">l5kit.data.labels module</a></li>
<li class="toctree-l1"><a class="reference internal" href="l5kit.data.local_data_manager.html">l5kit.data.local_data_manager module</a></li>
<li class="toctree-l1"><a class="reference internal" href="l5kit.data.map_api.html">l5kit.data.map_api module</a></li>
<li class="toctree-l1"><a class="reference internal" href="l5kit.data.zarr_dataset.html">l5kit.data.zarr_dataset module</a></li>
<li class="toctree-l1"><a class="reference internal" href="l5kit.data.zarr_utils.html">l5kit.data.zarr_utils module</a></li>
</ul>
</div>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="l5kit.cle.validators.html"
       title="previous chapter">← l5kit.cle.validators module</a>
  </li>
  <li class="next">
    <a href="l5kit.data.proto.html"
       title="next chapter">l5kit.data.proto package →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2021, Level 5. Car Vectors by Vecteezy (https://www.vecteezy.com/free-vector/car).
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.1.2 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>